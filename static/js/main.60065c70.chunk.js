(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{106:function(t,e,n){},107:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(10),o=n.n(r),u=n(11),i=n(27),s=n(28),l=n(32),m=n(31),d=n(6),f=n(25),b=n.n(f),p=n(4),h=Object(p.b)("contacts/addRequest"),C=Object(p.b)("contacts/addSuccess"),O=Object(p.b)("contacts/addError"),g=Object(p.b)("contact/deleteRequest"),E=Object(p.b)("contacts/deleteSuccess"),j={addContactRequest:h,addContactSuccess:C,addContactError:O,deleteContactRequest:g,deleteContactError:Object(p.b)("contacts/deleteError"),deleteContactSuccess:E,fetchContactRequest:Object(p.b)("contact/fetchRequest"),fetchContactSuccess:Object(p.b)("contacts/fetchSuccess"),fetchContactError:Object(p.b)("contacts/fetchError"),setFilter:Object(p.b)("contact/filter")};b.a.defaults.baseURL="http://localhost:2000";var v,_,F={addContact:function(t,e){return function(n){n(j.addContactRequest()),b.a.post("/contacts",{name:t,number:e}).then((function(t){var e=t.data;return n(j.addContactSuccess(e))})).catch((function(t){return n(j.addContactError(t))}))}},fetchContacts:function(){return function(t){t(j.fetchContactRequest()),b.a.get("/contacts").then((function(e){var n=e.data;return t(j.fetchContactSuccess(n))})).catch((function(e){return t(j.fetchContactError(e))}))}},deleteContact:function(t){return function(e){e(j.deleteContactRequest()),b.a.delete("contacts/".concat(t)).then((function(){return e(j.deleteContactSuccess(t))})).catch((function(t){return e(j.deleteContactError(t))}))}}},S=n(49),y=n.n(S),x=n(50),L=function(t){Object(l.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(d.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=t.props.state.contacts.items;r&&r.find((function(t){return a===t.name}))?alert("Contact with such name is already exist"):t.props.onSubmit(a,c),t.setState({name:"",number:""})},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return c.a.createElement("form",{onSubmit:this.handleSubmit,className:y.a.contactForm},c.a.createElement("label",{htmlFor:"nameInput"},"Name:",c.a.createElement("br",null),c.a.createElement("input",{className:"FormInput",type:"text",name:"name",value:e,placeholder:"enter name...",onChange:this.handleChange})),c.a.createElement("label",{htmlFor:"numberInput"},"Number:",c.a.createElement("br",null),c.a.createElement(x.a,{className:"FormInput",format:"(###) ###-####",mask:"",name:"number",value:n,placeholder:"enter number...",onChange:this.handleChange})),c.a.createElement("button",{type:"submit",disabled:!e.length||!n.length},"Add contact"))}}]),n}(a.Component),N=Object(u.b)((function(t){return{state:t}}),{onSubmit:F.addContact})(L),A=n(126),R=n(125),w=n(35),k=n.n(w),q=n(124),I=n(51),D=n.n(I),J=n(122),z=Object(J.a)((function(t){return{margin:{margin:t.spacing(1)},extendedIcon:{marginRight:t.spacing(1)}}})),B=function(t){var e=t.contact,n=e.name,a=e.number,r=t.deleteContact,o=z();return c.a.createElement("li",{className:k.a.contact},c.a.createElement("p",{className:k.a.contactDescr},n,": ",a),c.a.createElement(q.a,{"aria-label":"delete",className:o.margin,type:"button",onClick:r},c.a.createElement(D.a,{fontSize:"small"})))},U=Object(u.b)(null,(function(t,e){return{deleteContact:function(){return t(F.deleteContact(e.contact.id))}}}))(B),W=n(26),G=n.n(W),H=n(13),K=function(t){return t.contacts.items},M=function(t){return t.contacts.filter},P={getContact:K,getLoading:function(t){return t.contacts.loading},getFilter:M,getFilteredContacts:Object(H.a)([K,M],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},Q={enter:G.a.enter,enterActive:G.a.enterActive,exit:G.a.exit,exitActive:G.a.exitActive},T=Object(u.b)((function(t){if(t.contacts)return{contacts:P.getFilteredContacts(t)}}))((function(t){var e=t.contacts;return console.log("ContactList re-render"),c.a.createElement(A.a,{component:"ul"},e&&e.map((function(t){return c.a.createElement(R.a,{key:t.id,timeout:250,classNames:Q},c.a.createElement(U,{contact:t}))})))})),V={onChangeFilter:j.setFilter},X=Object(u.b)((function(t){return{value:P.getFilter(t)}}),V)((function(t){var e=t.value,n=t.onChangeFilter;return c.a.createElement("form",{className:"FilterForm"},c.a.createElement("label",{htmlFor:"filterInput"},"Find contacts by name",c.a.createElement("br",null),c.a.createElement("input",{type:"text",onChange:function(t){return n(t.target.value)},value:e,name:"filter",className:"FilterInput",placeholder:"start typing searching name..."})))})),Y=n(52),Z=n.n(Y),$=n(36),tt=n.n($),et={appear:tt.a.appear,appearActive:tt.a.appearActive},nt=function(){return c.a.createElement(R.a,{in:!0,appear:!0,timeout:500,classNames:et,unmountOnExit:!0},c.a.createElement("h1",null,"Phonebook"))},at=function(t){Object(l.a)(n,t);var e=Object(m.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return c.a.createElement("div",{className:"Wrapper"},c.a.createElement(nt,null),c.a.createElement(N,null),c.a.createElement("h2",{className:"Title"},"Contacts"),c.a.createElement(X,null),this.props.isLoadingContacts&&c.a.createElement(Z.a,{type:"Hearts",color:"pink",height:80,width:80}),c.a.createElement(T,null))}}]),n}(a.Component),ct=Object(u.b)((function(t){return{contacts:P.getContact(t),isLoadingContacts:P.getLoading(t)}}),(function(t){return{onFetchContacts:function(){return t(F.fetchContacts())}}}))(at),rt=(n(106),n(22)),ot=n(53),ut=n(8),it=Object(p.c)([],(v={},Object(d.a)(v,j.fetchContactSuccess,(function(t,e){return e.payload})),Object(d.a)(v,j.addContactSuccess,(function(t,e){return[].concat(Object(ot.a)(t),[e.payload])})),Object(d.a)(v,j.deleteContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),v)),st=Object(p.c)("",Object(d.a)({},j.setFilter,(function(t,e){return e.payload}))),lt=Object(p.c)(!1,(_={},Object(d.a)(_,j.fetchContactRequest,(function(){return!0})),Object(d.a)(_,j.fetchContactSuccess,(function(){return!1})),Object(d.a)(_,j.fetchContactError,(function(){return!1})),Object(d.a)(_,j.addContactRequest,(function(){return!0})),Object(d.a)(_,j.addContactSuccess,(function(){return!1})),Object(d.a)(_,j.addContactError,(function(){return!1})),Object(d.a)(_,j.deleteContactRequest,(function(){return!0})),Object(d.a)(_,j.deleteContactSuccess,(function(){return!1})),Object(d.a)(_,j.deleteContactError,(function(){return!1})),_)),mt=Object(ut.c)({items:it,filter:st,loading:lt}),dt=Object(p.a)({reducer:{contacts:mt},middleware:[rt.a]});o.a.render(c.a.createElement(u.a,{store:dt},c.a.createElement(ct,null)),document.getElementById("root"))},26:function(t,e,n){t.exports={enter:"ContactList_enter__XxwSW",enterActive:"ContactList_enterActive__3DOvI",exit:"ContactList_exit__1hyQV",exitActive:"ContactList_exitActive__1FzB-"}},35:function(t,e,n){t.exports={contact:"ContactListElem_contact__2E9re",contactDescr:"ContactListElem_contactDescr__3ONY-"}},36:function(t,e,n){t.exports={logo:"Logo_logo__KFw0s",appear:"Logo_appear__2Ulgc",appearActive:"Logo_appearActive__1w9uO"}},49:function(t,e,n){t.exports={contactForm:"ContactForm_contactForm__3vuGJ"}},58:function(t,e,n){t.exports=n(107)}},[[58,1,2]]]);
//# sourceMappingURL=main.60065c70.chunk.js.map